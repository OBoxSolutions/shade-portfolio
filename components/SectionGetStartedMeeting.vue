<template>
  <div class="section-meeting">
    <div class="__title">SELECT THE DATE OF THE MEETING:</div>
    <div class="__date-container">
      <calendar
        class="__calendar"
        title-position="left"
        @dayclick="dateSelected"
      />
      <div class="__hour-list">
        <div class="__time-container">
          <div class="__day">
            {{ weekdays[selected.weekday - 1] }}
          </div>
          <div class="__time">[ {{ selectedHour }} ]</div>
        </div>
        <div class="__hours">
          <div
            v-for="(hour, index) in hours"
            :key="`hour-${index}`"
            class="__hour"
            @click="hourSelected(hour)"
          >
            {{ hour }}
            <div v-if="hour == selectedHour" class="__selected"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
<script>
export default {
  name: 'SectionGetStartedMeeting',
  props: {
    value: {
      type: Object,
      default: () => {},
    }
  },
  data() {
    return {
      hours: [
        '08:00',
        '08:30',
        '09:00',
        '09:30',
        '10:00',
        '10:30',
        '11:00',
        '11:30',
        '12:00',
        '12:30',
        '13:00',
        '13:30',
        '14:00',
        '14:30',
        '15:00',
        '15:30',
        '16:00',
        '16:30',
        '17:00',
        '17:30',
        '18:00',
        '18:30',
        '19:00',
        '19:30',
        '20:00',
      ],
      selected: { weekday: 1 },
      selectedHour: '',
      weekdays: [
        'Sunday',
        'Monday',
        'Tuesday',
        'Wednesday',
        'Thursday',
        'Friday',
        'Saturday',
      ]
    }
  },
  computed: {
    form: {
      get() {
        return this.value
      },
      set(val) {
        this.$emit('input', val)
      },
    },
    meetingDate() {
      return `${this.selected.day || ''}-${this.selected.month || ''}-${this.selected.year || ''} | ${this.selectedHour}`
    },
  },
  watch: {
    meetingDate(val) {
      this.form.meeting_date = val
    }
  },
  mounted(){
    this.form.app = 'Discord'
    this.$nextTick(() => {
      const buttons = this.$el.querySelectorAll('.vc-svg-icon');
       if(buttons){
        buttons.forEach((button) => {button.removeAttribute('viewBox')})
       }
    });
  },
  methods: {
    dateSelected(date) {
      this.selected = date
    },
    hourSelected(hour) {
      this.selectedHour = hour
    }
  }
}
</script>

<style scoped lang="scss">
.section-meeting {
  background-image: url('/get-started/in-the-stars.gif');
  background-size: cover;
  background-repeat: repeat-y;
  padding: 1rem;
  filter: saturate(0.8);

  .__title {
    margin: 1rem;
    text-align: center;
    color: white;
    font-size: 1.5rem;
  }

  .__date-container {
    padding: 2rem;
    background-color: #5a55f8;
    display: flex;
    flex-direction: column;
    gap: 5rem;
    margin: 2rem 0;
    .__calendar {
      width: 100% !important;
      border: 1px solid black;
      border-radius: 0;
      font-family: 'Press Start 2P', 'Lucida Sans', 'Lucida Sans Regular',
        'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif !important;
    }

    .__hour-list {
      background-color: #071c50;
      padding: 1rem;
      display: flex;
      flex-direction: column;

      .__time-container {
        background-color: #352fcf;
        display: flex;
        gap: 1rem;
        align-items: center;
        justify-content: space-between;
        color: white;
        padding: 1rem;

        .__time {
          font-size: 0.6rem;
        }
      }
      .__hours {
        display: flex;
        flex-direction: column;
        flex-wrap: wrap;
        height: 100%;
        height: 20rem;
        margin-top: 0.5rem;
        .__hour {
          border-bottom: 1px solid white;
          padding: 0.3rem;
          margin-right: 0.5rem;
          color: white;
          font-size: 0.6rem;
          cursor: pointer;
          display: flex;
          justify-content: space-between;
          .__selected {
            height: 100%;
            width: 1rem;
            background-image: url('/get-started/selected.png');
            background-size: cover;
          }
        }
      }
    }
  }
}

:deep(.vc-arrow), :deep(.vc-title){
  color: black !important;
}
:deep(.is-left svg path){
  d: path('M 3.175781 0.585938 C 3.175781 1.105469 3.175781 1.175781 3.144531 1.203125 C 3.125 1.222656 2.996094 1.230469 2.542969 1.234375 C 2.050781 1.238281 1.96875 1.242188 1.941406 1.273438 C 1.90625 1.304688 1.90625 1.359375 1.90625 1.898438 C 1.90625 2.445312 1.902344 2.496094 1.871094 2.523438 C 1.847656 2.554688 1.773438 2.554688 1.339844 2.558594 C 0.828125 2.558594 0.679688 2.574219 0.652344 2.621094 C 0.636719 2.636719 0.632812 6.855469 0.632812 12.519531 L 0.632812 22.398438 L 0.679688 22.429688 C 0.722656 22.457031 0.792969 22.460938 1.265625 22.460938 C 1.789062 22.457031 1.808594 22.457031 1.855469 22.5 L 1.90625 22.542969 L 1.90625 23.128906 C 1.90625 23.6875 1.90625 23.71875 1.941406 23.761719 C 1.980469 23.796875 2.003906 23.796875 2.539062 23.796875 C 3.011719 23.796875 3.105469 23.800781 3.136719 23.832031 C 3.175781 23.859375 3.175781 23.867188 3.175781 24.382812 C 3.175781 24.667969 3.183594 24.921875 3.191406 24.953125 L 3.195312 24.996094 L 22.25 24.996094 L 22.25 23.894531 L 22.296875 23.847656 L 22.34375 23.796875 L 22.910156 23.796875 C 23.441406 23.796875 23.488281 23.796875 23.507812 23.761719 C 23.539062 23.726562 23.542969 23.652344 23.542969 23.136719 C 23.542969 22.5625 23.542969 22.546875 23.582031 22.503906 C 23.621094 22.472656 23.660156 22.464844 24.050781 22.460938 L 24.480469 22.457031 L 24.480469 2.554688 L 24.039062 2.554688 C 23.664062 2.554688 23.601562 2.554688 23.574219 2.527344 C 23.542969 2.496094 23.542969 2.410156 23.542969 1.898438 C 23.542969 1.351562 23.539062 1.304688 23.503906 1.273438 C 23.480469 1.238281 23.410156 1.238281 22.90625 1.238281 L 22.34375 1.238281 L 22.296875 1.1875 L 22.25 1.140625 L 22.25 0 L 3.175781 0 Z M 12.003906 6.53125 C 12.050781 6.546875 12.089844 6.578125 12.101562 6.597656 C 12.117188 6.625 12.121094 6.964844 12.128906 7.816406 C 12.128906 8.992188 12.128906 8.992188 12.167969 9.066406 L 12.210938 9.125 L 19.65625 9.148438 L 19.78125 9.296875 L 19.78125 15.71875 L 19.699219 15.757812 C 19.625 15.792969 19.535156 15.800781 15.917969 15.800781 C 13.570312 15.800781 12.203125 15.804688 12.179688 15.816406 C 12.160156 15.828125 12.148438 15.871094 12.136719 15.945312 C 12.128906 16.003906 12.125 16.574219 12.125 17.222656 C 12.125 18.132812 12.121094 18.398438 12.101562 18.414062 C 12.050781 18.460938 11.859375 18.476562 11.433594 18.472656 C 10.980469 18.472656 10.871094 18.460938 10.78125 18.378906 C 10.738281 18.34375 10.738281 18.34375 10.738281 17.859375 C 10.738281 17.378906 10.738281 17.371094 10.695312 17.320312 L 10.652344 17.269531 L 10.175781 17.265625 L 9.699219 17.265625 L 9.46875 17.007812 L 9.46875 16.015625 L 9.421875 15.949219 L 9.371094 15.875 L 8.929688 15.886719 C 8.6875 15.886719 8.464844 15.898438 8.4375 15.90625 C 8.394531 15.914062 8.382812 15.914062 8.382812 15.890625 C 8.382812 15.863281 8.222656 15.695312 8.195312 15.695312 C 8.1875 15.695312 8.175781 15.464844 8.175781 15.179688 C 8.175781 14.679688 8.175781 14.667969 8.136719 14.621094 C 8.097656 14.582031 8.085938 14.582031 7.609375 14.570312 L 7.128906 14.566406 L 7.039062 14.472656 C 6.988281 14.421875 6.929688 14.375 6.902344 14.367188 L 6.847656 14.355469 L 6.882812 14.269531 C 6.902344 14.203125 6.914062 14.082031 6.925781 13.765625 L 6.925781 13.339844 L 6.863281 13.308594 C 6.808594 13.277344 6.742188 13.273438 6.328125 13.269531 L 5.859375 13.265625 L 5.761719 13.152344 C 5.714844 13.089844 5.648438 13.035156 5.621094 13.03125 L 5.574219 13.019531 L 5.617188 12.933594 C 5.65625 12.851562 5.660156 12.808594 5.660156 12.4375 C 5.660156 11.992188 5.671875 11.910156 5.761719 11.789062 L 5.816406 11.714844 L 6.339844 11.714844 C 6.621094 11.714844 6.867188 11.710938 6.882812 11.699219 C 6.902344 11.679688 6.90625 11.605469 6.90625 11.273438 C 6.902344 11.050781 6.894531 10.828125 6.890625 10.769531 C 6.882812 10.675781 6.886719 10.660156 6.925781 10.648438 C 6.941406 10.644531 6.964844 10.613281 6.964844 10.589844 C 6.976562 10.558594 7.011719 10.5 7.046875 10.453125 L 7.121094 10.367188 L 7.605469 10.382812 C 7.878906 10.386719 8.113281 10.382812 8.152344 10.367188 C 8.214844 10.355469 8.21875 10.351562 8.207031 10.269531 C 8.195312 10.1875 8.195312 10.164062 8.195312 10.074219 C 8.195312 10.058594 8.191406 9.996094 8.1875 9.941406 C 8.171875 9.683594 8.171875 9.332031 8.191406 9.324219 C 8.203125 9.320312 8.230469 9.28125 8.253906 9.242188 C 8.269531 9.199219 8.308594 9.144531 8.339844 9.113281 L 8.390625 9.054688 L 8.878906 9.050781 C 9.332031 9.050781 9.488281 9.039062 9.515625 9 C 9.519531 8.988281 9.511719 8.957031 9.5 8.929688 C 9.480469 8.890625 9.46875 8.753906 9.464844 8.476562 C 9.457031 8.253906 9.445312 8.058594 9.441406 8.039062 C 9.429688 8.011719 9.433594 8.003906 9.46875 7.992188 C 9.488281 7.980469 9.519531 7.949219 9.539062 7.914062 C 9.554688 7.875 9.589844 7.816406 9.617188 7.78125 L 9.664062 7.714844 L 10.164062 7.714844 C 10.457031 7.714844 10.6875 7.710938 10.714844 7.699219 C 10.757812 7.671875 10.761719 7.671875 10.746094 7.601562 C 10.738281 7.558594 10.730469 7.464844 10.730469 7.390625 C 10.730469 7.320312 10.726562 7.125 10.722656 6.953125 C 10.714844 6.703125 10.714844 6.652344 10.742188 6.644531 C 10.757812 6.636719 10.800781 6.601562 10.839844 6.5625 L 10.917969 6.5 L 11.421875 6.5 C 11.835938 6.5 11.941406 6.503906 12.003906 6.53125 Z M 12.003906 6.53125 ') !important;
}
:deep(.is-right svg path){
  d: path('M 2.402344 0.496094 C 2.402344 0.742188 2.066406 0.992188 1.683594 0.992188 C 1.296875 0.992188 0.960938 1.339844 0.960938 1.734375 C 0.960938 2.132812 0.769531 2.480469 0.480469 2.480469 C 0.191406 2.480469 0 6.101562 0 12.402344 C 0 18.699219 0.191406 22.320312 0.480469 22.320312 C 0.769531 22.320312 0.960938 22.667969 0.960938 23.066406 C 0.960938 23.460938 1.296875 23.808594 1.683594 23.808594 C 2.066406 23.808594 2.402344 24.007812 2.402344 24.304688 C 2.402344 24.601562 6.007812 24.800781 12.257812 24.800781 C 18.507812 24.800781 22.117188 24.601562 22.117188 24.304688 C 22.117188 24.007812 22.453125 23.808594 22.835938 23.808594 C 23.222656 23.808594 23.558594 23.460938 23.558594 23.066406 C 23.558594 22.667969 23.894531 22.320312 24.277344 22.320312 C 24.902344 22.320312 25 20.882812 25 12.402344 C 25 5.804688 24.808594 2.480469 24.519531 2.480469 C 24.230469 2.480469 23.507812 1.933594 22.882812 1.238281 L 21.777344 0 L 12.066406 0 C 5.960938 0 2.402344 0.199219 2.402344 0.496094 Z M 16.921875 9.425781 L 19.808594 12.402344 L 16.921875 15.378906 C 15.289062 17.015625 13.75 18.351562 13.507812 18.351562 C 13.222656 18.351562 12.980469 17.808594 12.980469 17.113281 C 12.980469 15.871094 12.933594 15.871094 8.894531 15.871094 L 4.808594 15.871094 L 4.808594 8.929688 L 8.894531 8.929688 C 12.933594 8.929688 12.980469 8.929688 12.980469 7.6875 C 12.980469 6.992188 13.222656 6.449219 13.507812 6.449219 C 13.75 6.449219 15.289062 7.789062 16.921875 9.425781 Z M 16.921875 9.425781 ')
}

/* Breakpoints begin here  */
@media (min-width: 768px) {
  .section-meeting {
    .__title {
      width: 25rem;
      margin: 0;
    }
    .__date-container {
      flex-direction: row;
      .__calendar {
        width: 50% !important;
      }

      .__hour-list {
        width: 50%;
      }
    }
  }
}
</style>
